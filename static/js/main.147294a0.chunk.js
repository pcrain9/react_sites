(this.webpackJsonpgoogle_maps_try=this.webpackJsonpgoogle_maps_try||[]).push([[0],{10:function(e,t,n){e.exports={user_view:"MapContainer_user_view__3Qzad",info_readout:"MapContainer_info_readout__PuU6B",items:"MapContainer_items__18X25"}},15:function(e,t,n){e.exports={main_header:"Header_main_header__4TmxQ",header_title:"Header_header_title__3oNzL"}},21:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n(4),c=n.n(o),r=(n(21),n(7)),s=n.n(r),i=n(13),u=n(3),l=n(9),d=n(5),b=n(8),j=n.n(b),h=n(1);var m=function(e){var t=Object(a.useRef)(),n=Object(a.useState)(""),o=Object(u.a)(n,2),c=o[0],r=o[1];return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:j.a.test_field,children:Object(h.jsxs)("form",{onSubmit:function(n){n.preventDefault();var a=t;e.onSetLocation(a),r("")},className:j.a.form_handler,children:[Object(h.jsx)("input",{className:j.a.input_handler,type:"text",name:"location_input",placeholder:"type a location here!",ref:t,value:c,onChange:function(e){r(e.target.value)}}),Object(h.jsx)("button",{className:j.a.submit_handler,children:"Submit"})]})})})},_=n(16),f=Object(_.b)({name:"display",initialState:{showResults:!0},reducers:{show:function(e){e.showResults=!0},hide:function(e){e.showResults=!1}}}),p=Object(_.a)({reducer:f.reducer}),O=f.actions,g=p,x=n(6),v=n.n(x),S=n.p+"static/media/back_arrow.202fcc62.png";var w=function(e){var t=Object(d.b)(),n=Object(d.c)((function(e){return e.showResults})),o=Object(a.useState)(""),c=Object(u.a)(o,2),r=c[0],s=c[1];function i(){t(O.show()),s("")}return Object(h.jsx)(h.Fragment,{children:n?e.locations.map((function(n){return Object(h.jsx)("div",{className:v.a.readout,children:Object(h.jsx)("h3",{className:v.a.items,onClick:function(){return a=n.name,o=n.location,e.onLocationSelected(o),s(a),void t(O.hide());var a,o},children:n.name})})})):e.locations.filter((function(e){return e.name===r})).map((function(e){return Object(h.jsxs)("div",{className:v.a.big_readout,children:[Object(h.jsx)("img",{src:S,className:v.a.back_badge,onClick:i,alt:""}),Object(h.jsx)("h3",{className:v.a.single_item,children:e.name})]})}))})},y=n(10),N=n.n(y),k=function(){var e=Object(d.b)(),t=Object(a.useState)(!1),n=Object(u.a)(t,2),o=n[0],c=n[1],r=Object(a.useState)([]),b=Object(u.a)(r,2),j=b[0],_=b[1],f=Object(a.useState)([]),p=Object(u.a)(f,2),g=p[0],x=p[1],v=Object(a.useState)({}),S=Object(u.a)(v,2),y=S[0],k=S[1],C=Object(a.useState)(!0),I=Object(u.a)(C,2),M=I[0],F=I[1],L=Object(a.useState)(7),B=Object(u.a)(L,2),R=B[0],J=B[1],T=Object(a.useState)({lat:40,lng:-97.7431}),G=Object(u.a)(T,2),K=G[0],Y=G[1];function Q(){return(Q=Object(i.a)(s.a.mark((function e(){var t,n,a,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://raw.githubusercontent.com/cageyjames/GeoJSON-Ballparks/master/ballparks.geojson");case 2:return t=e.sent,e.next=5,t.json();case 5:if(n=e.sent,200===t.status){e.next=11;break}return F(!1),J(3.5),Y({lat:40,lng:-97.7431}),e.abrupt("return");case 11:for(a=[],o=0;o<n.features.length;o++)a[o]={name:n.features[o].properties.Ballpark,location:{lat:n.features[o].geometry.coordinates[1],lng:n.features[o].geometry.coordinates[0]}};_(a);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(i.a)(s.a.mark((function t(n){var a,o,r,i,u,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x([]),c(!0),F(!0),a="https://api.foursquare.com/v2/venues/search?near="+n.current.value+"&radius=100000&limit=10&categoryId=4bf58dd8d48988d18c941735&client_id=XK5W5QAM0CYNAE2IHJ2NGJJ0WYBMTKJGIYZVWTCLTTPJF0B4&client_secret=XOY0TYQKJXO1EV4YBXZMRF3GQ5YC1GUZLFXB5XWVUANW3KIV&v=20210726",t.next=6,fetch(a);case 6:return o=t.sent,t.next=9,o.json();case 9:if(200===(r=t.sent).meta.code){t.next=15;break}return J(3.5),Y({lat:40,lng:-97.7431}),F(!1),t.abrupt("return");case 15:if(i=[],u=0,0!==r.response.venues.length){t.next=20;break}return F(!1),t.abrupt("return");case 20:for(l=0;l<j.length;l++)Math.abs(j[l].location.lat-r.response.venues[0].location.lat)<5&&Math.abs(j[l].location.lng-r.response.venues[0].location.lng)<5&&(i[u++]={name:j[l].name,location:{lat:j[l].location.lat,lng:j[l].location.lng},sortKey:Math.abs(j[l].location.lat)-Math.abs(j[l].location.lng)+(Math.abs(r.response.venues[0].location.lat)-Math.abs(r.response.venues[0].location.lng))});console.log(i),i.sort((function(e,t){return t.sortKey-e.sortKey})),console.log(i),e(O.show()),x(i),Y({lat:r.response.venues[0].location.lat,lng:r.response.venues[0].location.lng}),J(5.5);case 28:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(a.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){Y({lat:e.coords.latitude,lng:e.coords.longitude})})),function(){Q.apply(this,arguments)}()}),[]),Object(h.jsxs)("div",{className:N.a.user_view,children:[Object(h.jsxs)("section",{className:N.a.info_readout,children:[Object(h.jsx)(m,{onSetLocation:function(e){return W.apply(this,arguments)}}),M?Object(h.jsx)(w,{onLocationSelected:function(e){J(12),Y({lat:e.lat,lng:e.lng})},onUserMadeNextQuery:o,className:N.a.items,locations:g}):Object(h.jsx)("h2",{children:"Error: There was nothing to show for that area :("})]}),Object(h.jsx)(l.c,{googleMapsApiKey:"AIzaSyDt7UkFiL_-59O-MTBBSh6mtIt3LUQ6WCc",children:Object(h.jsxs)(l.a,{mapContainerStyle:{height:"100vh",width:"100%",margin:"auto",marginTop:"100px"},zoom:R,center:K,children:[M?g.map((function(e){return Object(h.jsx)(l.d,{position:e.location,name:e.name,onClick:function(){!function(e){k(e)}(e)}},e.location.lat)})):null,M?y.location&&Object(h.jsx)(l.b,{position:y.location,clickable:!0,onCloseClick:function(){k({})},children:Object(h.jsx)("p",{children:y.name})}):null]})})]})},C=n(15),I=n.n(C);var M=function(){return Object(h.jsx)("div",{className:I.a.main_header,children:Object(h.jsx)("h3",{className:I.a.header_title,children:"Baseball Stadium Finder App: Find a stadium near you!"})})};var F=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(M,{}),Object(h.jsx)(k,{})]})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,29)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),o(e),c(e),r(e)}))};c.a.render(Object(h.jsx)(d.a,{store:g,children:Object(h.jsx)(F,{})}),document.getElementById("root")),L()},6:function(e,t,n){e.exports={readout:"StadiumInfoReadOut_readout__3N3I9",items:"StadiumInfoReadOut_items__3C5wM",onLoad:"StadiumInfoReadOut_onLoad__2W2xJ",big_readout:"StadiumInfoReadOut_big_readout__2NcYM",single_item:"StadiumInfoReadOut_single_item__3Hh-c",back_badge:"StadiumInfoReadOut_back_badge__1iJ97"}},8:function(e,t,n){e.exports={test_field:"GetStadiumInfo_test_field__bb65v",input_handler:"GetStadiumInfo_input_handler__q0o4f",submit_handler:"GetStadiumInfo_submit_handler__2ebio"}}},[[28,1,2]]]);
//# sourceMappingURL=main.147294a0.chunk.js.map